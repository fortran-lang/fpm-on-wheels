[build-system]
requires = [
    "setuptools>=67.0.0",
    "scikit-build>=0.16.7",
    "cmake>=3.20.0",
    "ninja",
]
build-backend = "setuptools.build_meta"

# [project]
# name = "fpm"
# description = "Fortran Package Manager"
# version = "0.1.0"
# authors = [{ name = "The Fortran Programming Language Orgnization" }]
# license = "MIT"

# [project.urls]
# homepage = "https://fpm.fortran-lang.org"
# souorce = "https://github.com/fortran-lang/fpm"
# tracker = "https://github.com/fortran-lang/fpm/issues"

[tool.cibuildwheel.macos]

[[tool.cibuildwheel.overrides]]
select = "*-macosx_arm64"
before-build = "bash {project}/tools/wheels/cibw_before_build_macos.sh {project}"
environment = { CC = "clang", CXX = "clang++", RUNNER_OS = "macOS", FC="/opt/gfortran-darwin-arm64-cross/bin/arm64-apple-darwin20.0.0-gfortran", LDFLAGS = " -L/opt/gfortran-darwin-arm64-cross/lib/gcc/arm64-apple-darwin20.0.0/11.3.0 -Wl,-rpath,/opt/gfortran-darwin-arm64-cross/lib/gcc/arm64-apple-darwin20.0.0/11.3.0", FC_ARM64_LDFLAGS = "$FC_ARM64_LDFLAGS" }
